<!doctype html>
<html lang="en">
  <head>
    <meta
      name="description"
      content="Personal website and blog of a professional developer showcasing projects, skills, and thoughts on technology."
    />
    <meta name="keywords" content="developer, portfolio, blog, projects, technology" />
    <title>My Personal Blog & Portfolio</title>
    <link rel="stylesheet" href="style.css" />
    <!-- The head module will be loaded by modules.js -->
  </head>
  <body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div id="header-placeholder"></div>

    <main id="main-content">
      <section class="intro-section" id="introduction">
        <div class="container">
          <article class="blog-card intro">
            <div class="blog-card-content">
              <h3 class="blog-title">Welcome to My Blog & Portfolio</h3>
              <p class="blog-excerpt">
                Hello and welcome! I'm a Data Engineer with a passion for functional programming,
                big data technologies, and compiler design. This blog is where I share my thoughts,
                projects, and experiences in the world of software development.
              </p>
              <p class="blog-excerpt">
                Feel free to explore my projects, read my blog posts, or get in touch if you'd like
                to collaborate or just chat about technology.
              </p>
            </div>
          </article>
        </div>
      </section>

      <section class="about" id="about">
        <div class="container">
          <div class="about-content">
            <h2 class="section-title">About Me</h2>
            <p>
              This section will be populated with information from your CV data. It will include a
              brief biography, professional interests, and personal details that help visitors
              connect with you on a more personal level.
            </p>
            <p>
              In addition to my professional work, I enjoy contributing to open source projects,
              mentoring junior developers, and writing about technology topics on this blog.
            </p>
          </div>
        </div>
      </section>

      <section class="newsletter">
        <div class="container">
          <div class="newsletter-content">
            <h2>Stay Updated</h2>
            <p>
              Subscribe to my newsletter to receive updates on new blog posts, projects, and
              professional insights.
            </p>
            <form class="newsletter-form">
              <div class="form-group">
                <label for="email-input" class="visually-hidden">Email address</label>
                <input
                  type="email"
                  id="email-input"
                  placeholder="Your email address"
                  required
                  aria-required="true"
                />
                <button type="submit" class="btn primary">Subscribe</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <section class="contact" id="contact">
        <div class="container">
          <h2 class="section-title">Get In Touch</h2>
          <p>
            Feel free to reach out to me at
            <a href="mailto:your.email@example.com" id="email">your.email@example.com</a>
          </p>
          <div class="social-links" id="social-links">
            <a href="#" class="social-link" aria-label="LinkedIn Profile"
              ><i class="nf nf-linkedin"></i
            ></a>
            <a href="#" class="social-link" aria-label="GitHub Profile"
              ><i class="nf nf-github"></i
            ></a>
            <a href="#" class="social-link" aria-label="Twitter Profile"
              ><i class="nf nf-twitter"></i
            ></a>
          </div>
        </div>
      </section>
    </main>

    <div id="footer-placeholder"></div>

    <!-- Load scripts.js for common functionality -->
    <script src="js/scripts.js"></script>

    <!-- Load modules.js for dynamic module loading -->
    <script src="js/modules.js"></script>

    <!-- Load API client for blog functionality -->
    <script src="js/api-client.js"></script>

    <!-- Load blog integration script -->
    <script src="js/blog-integration.js"></script>

    <script>
      // Format blog dates
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".blog-date[data-date]").forEach(dateElement => {
          const dateStr = dateElement.getAttribute("data-date");
          const date = new Date(dateStr);
          const options = { year: "numeric", month: "long", day: "numeric" };
          dateElement.textContent = date.toLocaleDateString("en-US", options);
        });

        // GitHub API integration
        fetchGitHubRepos();
      });

      // GitHub API integration
      async function fetchGitHubRepos() {
        const projectsContainer = document.getElementById("featured-projects");
        if (!projectsContainer) return;

        // Define the repositories to fetch
        const repos = [
          { owner: "hakimjonas", repo: "valar", language: "scala" },
          { owner: "hakimjonas", repo: "fin", language: "rust" },
          { owner: "fungal-lang", repo: "spore-print", language: "rust" },
        ];

        try {
          for (const repoInfo of repos) {
            // Fetch repository data from GitHub API
            const response = await fetch(
              `https://api.github.com/repos/${repoInfo.owner}/${repoInfo.repo}`
            );
            if (!response.ok) {
              throw new Error(`GitHub API error: ${response.status}`);
            }
            const repo = await response.json();

            // Fetch user data for avatar
            const userResponse = await fetch(`https://api.github.com/users/${repoInfo.owner}`);
            if (!userResponse.ok) {
              throw new Error(`GitHub API error: ${userResponse.status}`);
            }
            const user = await userResponse.json();

            // Create project card
            const card = document.createElement("div");
            card.className = "github-card";
            // Add card content here...
          }
        } catch (error) {
          console.error("Error fetching GitHub repositories:", error);
        }
      }
    </script>
  </body>
</html>
